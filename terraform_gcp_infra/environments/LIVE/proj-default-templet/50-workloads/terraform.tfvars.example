# Terragrunt entrypoint: environments/LIVE/proj-default-templet/50-workloads/terragrunt.hcl
# 워크로드(GCE VM 세트) 설정 예시

project_id     = "your-project-id"
project_name   = "default-templet"
environment    = "prod"
organization   = "myorg"
region_primary = "us-central1"
region_backup  = "us-east1"

# 특정 존을 명시하고 싶을 때만 설정, 비워두면 naming 모듈 기본 존 사용
zone = ""

# 명시적으로 다른 서브넷을 사용하려면 self link 입력
subnetwork_self_link = ""

# 인스턴스 기본 설정
instance_count = 2
name_prefix    = ""              # 비워두면 naming 모듈이 자동 생성
machine_type   = "e2-medium"

enable_public_ip = false
enable_os_login  = true
preemptible      = false

# 시작 스크립트 (예: 시스템 패키지 설치)
startup_script = <<-EOT
#!/bin/bash
echo \"hello\" > /var/tmp/startup.log
EOT

# 서비스 계정 (비워두면 naming 기반 compute SA 사용)
service_account_email  = ""
service_account_scopes = ["https://www.googleapis.com/auth/cloud-platform"]

# 네트워크 태그/라벨 (naming 모듈 공통 값과 병합됨)
tags = ["web", "prod"]
labels = {
  component = "game-server"
}
