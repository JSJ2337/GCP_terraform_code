# Terragrunt entrypoint: environments/LIVE/proj-default-templet/30-security/terragrunt.hcl
# 보안(IAM) 레이어 설정 예시
# modules/naming 결과를 활용하여 기본 서비스 계정을 생성하거나
# 추가 IAM 바인딩을 정의할 수 있습니다.

project_id     = "your-project-id"
project_name   = "default-templet"
environment    = "prod"
organization   = "myorg"
region_primary = "us-central1"
region_backup  = "us-east1"

# 기본 리전 (서비스 계정 등 일부 리소스에서 참고용)
region = "us-central1"

# IAM 바인딩 예시: 프로젝트 역할을 팀 계정에 부여
bindings = [
  {
    role   = "roles/viewer"
    member = "group:platform-viewers@your-company.com"
  },
  {
    role   = "roles/logging.viewer"
    member = "user:observability.lead@your-company.com"
  }
]

# naming 모듈 기준으로 기본 서비스 계정(컴퓨트/모니터링/배포)을 만들지 여부
create_service_accounts = true

# 직접 서비스 계정 목록을 정의하려면 아래 항목을 채우세요.
# 비워두면 sa_name_prefix 기반으로 compute/monitoring/deployment 계정이 자동 생성됩니다.
# service_accounts = [
#   {
#     account_id   = "default-templet-compute"
#     display_name = "Compute Engine 기본 계정"
#     description  = "GCE 워크로드 실행용 서비스 계정"
#   }
# ]
service_accounts = []
